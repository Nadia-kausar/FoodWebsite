<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact | FoodExpress</title>
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="css/font-awesome/css/font-awesome.css">
  <link rel="stylesheet" href="css/hover-min.css">
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* ===== CART DROPDOWN ===== */
    .cart-content {
      display: none;
      position: absolute;
      right: 10px;
      top: 50px;
      width: 400px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 15px;
      z-index: 100;
    }
    .shopping-cart:hover + .cart-content,
    .cart-content:hover {
      display: block;
    }
    .cart-table img {
      width: 50px;
      border-radius: 5px;
    }
    .btn-delete {
      color: red;
      cursor: pointer;
      font-weight: bold;
      text-decoration: none;
    }
    .btn-delete:hover {
      color: darkred;
    }
  </style>
</head>
<body>
  <script>
    // ✅ Redirect to login if not logged in
    if (!localStorage.getItem('isLoggedIn')) {
      window.location.href = 'login.html';
    }
  </script>

  <!-- ====== HEADER ====== -->
  <header class="navbar">
    <nav id="site-top-nav" class="navbar-menu navbar-fixed-top">
      <div class="container">
        <div class="logo">
          <a href="index.html"><img src="img/logo.png" alt="Logo" class="img-responsive"></a>
        </div>
        <div class="menu text-right">
          <ul>
            <li><a href="index.html" class="hvr-underline-from-center">Home</a></li>
            <li><a href="categories.html" class="hvr-underline-from-center">Categories</a></li>
            <li><a href="foods.html" class="hvr-underline-from-center">Foods</a></li>
            <li><a href="order.html" class="hvr-underline-from-center">Order</a></li>
            <li><a href="contact.html" class="hvr-underline-from-center active">Contact</a></li>
            <li><a href="#" id="logout-btn" class="hvr-underline-from-center">Logout</a></li>
            <li>
              <a id="shopping-cart" class="shopping-cart">
                <i class="fa fa-cart-arrow-down"></i>
                <span class="badge">0</span>
              </a>
              <div id="cart-content" class="cart-content">
                <h3 class="text-center">Shopping Cart</h3>
                <table class="cart-table" border="0" width="100%">
                  <thead>
                    <tr>
                      <th>Food</th><th>Name</th><th>Price</th><th>Qty</th><th>Total</th><th>Action</th>
                    </tr>
                  </thead>
                  <tbody id="cart-body">
                    <tr><td colspan="6" class="text-center">Cart is empty</td></tr>
                  </tbody>
                  <tfoot>
                    <tr><th colspan="4">Total</th><th id="cart-total">$0.00</th><th></th></tr>
                  </tfoot>
                </table>
                <a href="order.html" class="btn-primary">Confirm Order</a>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <!-- ====== CONTACT FORM ====== -->
  <section class="contact">
    <div class="container">
      <h2 class="text-center">Get in Touch</h2>
      <div class="heading-border"></div>

      <form class="form contact-form">
        <fieldset>
          <legend>Contact Us</legend>

          <div class="form-group">
            <label for="name">Full Name</label>
            <input type="text" id="name" placeholder="Enter your name..." required>
          </div>

          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" placeholder="Enter your email..." required>
          </div>

          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="text" id="phone" placeholder="Enter your phone..." required>
          </div>

          <div class="form-group">
            <label for="subject">Subject</label>
            <input type="text" id="subject" placeholder="Enter subject..." required>
          </div>

          <div class="form-group">
            <label for="message">Message</label>
            <textarea id="message" rows="5" placeholder="Enter your message..." required></textarea>
          </div>

          <input type="submit" value="Send Message" class="btn-primary">
        </fieldset>
      </form>
    </div>
  </section>

  <!-- ====== FOOTER ====== -->
  <section class="footer">
    <div class="container">
      <div class="grid-3">
        <div class="text-center">
          <h3>About Us</h3><br>
          <p>FoodExpress is your go-to platform for quick and easy food delivery. We connect you with top restaurants in your area, delivering fresh meals right to your doorstep.</p>
        </div>
        <div class="text-center">
          <h3>Site Map</h3><br>
          <div class="site-links">
            <a href="categories.html">Categories</a>
            <a href="foods.html">Foods</a>
            <a href="order.html">Order</a>
            <a href="contact.html">Contact</a>
            <a href="login.html">Login</a>
          </div>
        </div>
        <div class="social-links text-center">
          <h3>Social Links</h3><br>
          <div class="social">
            <ul>
              <li><a href="#"><img src="https://img.icons8.com/color/48/facebook-new.png"/></a></li>
              <li><a href="#"><img src="https://img.icons8.com/fluency/48/instagram-new.png"/></a></li>
              <li><a href="#"><img src="https://img.icons8.com/color/48/twitter--v1.png"/></a></li>
              <li><a href="#"><img src="https://img.icons8.com/color/48/linkedin-circled--v1.png"/></a></li>
              <li><a href="#"><img src="https://img.icons8.com/color/48/youtube-play.png"/></a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== COPYRIGHT ===== -->
  <section class="copyright">
    <div class="container text-center">
      <p>© 2025 FoodExpress. All Rights Reserved. Designed by <a href="#">Nadia Kausar</a></p>
    </div>
  </section>

  <!-- ===== SCRIPTS ===== -->
  <script>
    // ✅ Logout functionality
    document.getElementById('logout-btn').addEventListener('click', () => {
      localStorage.removeItem('isLoggedIn');
      localStorage.removeItem('username');
      alert('Logged out successfully.');
      window.location.href = 'login.html';
    });

    // ✅ Cart functionality
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    const cartBody = document.getElementById('cart-body');
    const cartTotal = document.getElementById('cart-total');
    const badge = document.querySelector('.badge');

    function updateCartDisplay() {
      cartBody.innerHTML = '';
      let total = 0;

      if (cart.length === 0) {
        cartBody.innerHTML = '<tr><td colspan="6" class="text-center">Cart is empty</td></tr>';
      } else {
        cart.forEach((item, index) => {
          const totalPrice = (item.price * item.qty).toFixed(2);
          total += parseFloat(totalPrice);
          cartBody.innerHTML += `
            <tr>
              <td><img src="${item.image}" width="50"></td>
              <td>${item.name}</td>
              <td>$${item.price.toFixed(2)}</td>
              <td>${item.qty}</td>
              <td>$${totalPrice}</td>
              <td><a href="#" class="btn-delete" data-index="${index}">&times;</a></td>
            </tr>
          `;
        });
      }

      cartTotal.textContent = '$' + total.toFixed(2);
      badge.textContent = cart.length;
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    // Remove item from cart
    cartBody.addEventListener('click', e => {
      if (e.target.classList.contains('btn-delete')) {
        const index = e.target.dataset.index;
        cart.splice(index, 1);
        updateCartDisplay();
      }
    });

    // ✅ Contact form submission (frontend only)
    const contactForm = document.querySelector('.contact-form');
    contactForm.addEventListener('submit', e => {
      e.preventDefault();
      alert('Thank you! Your message has been sent successfully.');
      contactForm.reset();
    });

    // Load existing cart data on page load
    updateCartDisplay();
  </script>
</body>
</html>
